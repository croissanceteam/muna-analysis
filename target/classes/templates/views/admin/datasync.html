<!DOCTYPE html>
<html ng-app="app-datasync" xmlns:th="http://thymeleaf.org">
  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="description" content="A front-end template that helps you build fast, modern mobile web apps."/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0"/>
    <title>MUNA | DataSync</title>

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes"/>
    <link rel="icon" sizes="192x192" href="/images/icon.png"/>

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black"/>
    <meta name="apple-mobile-web-app-title" content="Material Design Lite"/>
    <link rel="apple-touch-icon-precomposed" href="images/ios-desktop.png"/>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans|Roboto" rel="stylesheet"> 
    <!-- Tile icon for Win8 (144x144 + tile color) -->
    <meta name="msapplication-TileImage" content="images/touch/ms-touch-icon-144x144-precomposed.png"/>
    <meta name="msapplication-TileColor" content="#3372DF"/>
	<link rel="stylesheet" href="/css/mdDateTimePicker.css">
    <link rel="shortcut icon" href="images/favicon.png"/>

    <!-- SEO: If your mobile URL is different from the desktop URL, add a canonical link to the desktop page https://developers.google.com/webmasters/smartphone-sites/feature-phones -->
    <!--
    <link rel="canonical" href="http://www.example.com/">
    -->

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en"/>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"/>
    <link rel="stylesheet" href="/css/material.cyan-light_blue.min.css"/>
    <link rel="stylesheet" href="/css/styles.css"/>
    <link rel="stylesheet" href="/css/datatables.css"/>
    <link rel="stylesheet" href="/css/getmdl-select.min.css"/>
    <link rel="stylesheet" href="/css/style.min.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/getmdl-select@2.0.1/getmdl-select.min.css"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
    
    
    <style>
    
    body{
    font-family: 'Roboto', sans-serif;
    font-family: 'Open Sans', sans-serif;		
    }
    #view-source {
      position: fixed;
      display: block;
      right: 0;
      bottom: 0;
      margin-right: 40px;
      margin-bottom: 40px;
      z-index: 900;
      }
.demo-card-event.mdl-card {
  width: 256px;
  height: 256px;
  background: #3E4EB8;
}
.demo-card-event > .mdl-card__actions {
  border-color: rgba(255, 255, 255, 0.2);
}
.demo-card-event > .mdl-card__title {
  align-items: flex-start;
}
.demo-card-event > .mdl-card__title > h4 {
  margin-top: 0;
}
.demo-card-event > .mdl-card__actions {
  display: flex;
  box-sizing:border-box;
  align-items: center;
}
.demo-card-event > .mdl-card__actions > .material-icons {
  padding-right: 10px;
}
.demo-card-event > .mdl-card__title,
.demo-card-event > .mdl-card__actions,
.demo-card-event > .mdl-card__actions > .mdl-button {
  color: #fff;
}
.container{
	padding:1.5em;
}
.container-filter{
  height:80%;
  width: 20em;
  float:right;
  position:relative;
  right:7em;
}
/* Progress Bar */
.progress {
  position: relative;
  height: 4px;
  display: block;
  width: 100%;
  background-color: transparent;
  border-radius: 2px;
  background-clip: padding-box;
  margin: 0.5rem 0 1rem 0;
  overflow: hidden; }
  .progress .determinate {
    position: absolute;
    background-color: inherit;
    top: 0;
    bottom: 0;
    background-color: #5bc0de;
    transition: width .3s linear; }
  .progress .indeterminate {
    background-color: #5bc0de; }
    .progress .indeterminate:before {
      content: '';
      position: absolute;
      background-color: inherit;
      top: 0;
      left: 0;
      bottom: 0;
      will-change: left, right;
      -webkit-animation: indeterminate 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
              animation: indeterminate 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite; }
    .progress .indeterminate:after {
      content: '';
      position: absolute;
      background-color: inherit;
      top: 0;
      left: 0;
      bottom: 0;
      will-change: left, right;
      -webkit-animation: indeterminate-short 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) infinite;
              animation: indeterminate-short 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) infinite;
      -webkit-animation-delay: 1.15s;
              animation-delay: 1.15s; }

@-webkit-keyframes indeterminate {
  0% {
    left: -35%;
    right: 100%; }
  60% {
    left: 100%;
    right: -90%; }
  100% {
    left: 100%;
    right: -90%; } }
@keyframes indeterminate {
  0% {
    left: -35%;
    right: 100%; }
  60% {
    left: 100%;
    right: -90%; }
  100% {
    left: 100%;
    right: -90%; } }
@-webkit-keyframes indeterminate-short {
  0% {
    left: -200%;
    right: 100%; }
  60% {
    left: 107%;
    right: -8%; }
  100% {
    left: 107%;
    right: -8%; } }
@keyframes indeterminate-short {
  0% {
    left: -200%;
    right: 100%; }
  60% {
    left: 107%;
    right: -8%; }
  100% {
    left: 107%;
    right: -8%; } }

    
   .mdl-button-group{
  position: relative;
  display: inline-block;
  vertical-align: middle;
   }
  
  button{
    background-color: #eee;
    display: inline-block;
    float: left;
    margin: 0px;
    box-shadow: none;
    border-radius: 0px;
  }
  
  button:hover {
  color: green;
  }
    .loading {
        width: 100%;
        height: 100%;
        position: fixed;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
       /* background-color: rgba(0,0,0,.5);
        border:10px solid red;
        */
    }
    .loading-wheel {
        width: 20px;
        height: 20px;
        margin-top: -40px;
        margin-left: -40px;

        position: absolute;
        top: 50%;
        left: 50%;

        border-width: 30px;
        border-radius: 50%;
        -webkit-animation: spin 1s linear infinite;
    }
    .style-2 .loading-wheel {
        border-style: double;
        border-color: #ccc transparent;
    }
@-webkit-keyframes spin {
    0% {
        -webkit-transform: rotate(0);
    }
    100% {
        -webkit-transform: rotate(-360deg);
    }
}

    </style>

  </head>
<body  ng-controller="datasyncCtrl">
<div id="pbar" style="display:none;" class="loading style-2">
		<div class="loading-wheel">
		
		</div>
		
</div>
 <div class="mdl-layout mdl-js-layout">
  <header class="mdl-layout__header mdl-color--teal-700" style="color:white;">
    <div class="mdl-layout__header-row">
      <span class="mdl-layout-title" style="color:white;font-weight:lighter;">Maintenance System</span>
      <div class="mdl-layout-spacer"></div>
          <div class="mdl-layout__header-row" >
          <div class="mdl-layout-spacer"></div>
          <div class="mdl-textfield mdl-js-textfield mdl-textfield--expandable">
            <label class="mdl-button mdl-js-button mdl-button--icon" for="search">
              <i class="material-icons">search</i>
            </label>
            <div class="mdl-textfield__expandable-holder">
              <input class="mdl-textfield__input" type="text" id="search">
              <label class="mdl-textfield__label" for="search">Enter your query...</label>
            </div>
          </div>
          <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="color:white;" id="hdrbtn">
            <i style="color:white;" class="material-icons">more_vert</i>
          </button>
          <ul class="mdl-menu mdl-js-menu mdl-js-ripple-effect mdl-menu--bottom-right" for="hdrbtn">
            <li class="mdl-menu__item">About</li>
            <li class="mdl-menu__item">Contact</li>
            <hr/>
            <li class="mdl-menu__item"><a href="../logout.do">Deconnexion</a></li>
          </ul>
        </div>
    </div>
  </header>
  <div class="mdl-layout__drawer">
    <span style="font-weight:lighter;" class="mdl-layout-title" th:text="${username}">Acme</span>
    <nav class="mdl-navigation">
      <a style="font-weight:lighter;" class="mdl-navigation__link" href="/dashboard/index.do"><i class="material-icons">home</i> Dashboard</a>
      <a  style="font-weight:lighter;" class="mdl-navigation__link" href="/admin/home"><i class="material-icons">data_usage</i> Configuration</a>
      <a style="font-weight:lighter;" class="mdl-navigation__link" href="/factory/views.do"><i class="material-icons">people</i> Usines</a>
        <a class="mdl-navigation__link" href="#"><i class="material-icons">trending_up</i> Tracker datas</a>
      <a class="mdl-navigation__link" href="#"><i class="material-icons">assignment</i> Data Storage</a>
    </nav>
  </div>
  </div>
  <br/><br/>
 
 <div class="container">
 <form action="datasyncprocess" method="post">
 <input type="text" name="jsontext" style="display:none;" id="jsontext">
 <input type="text" name="keyname" style="display:none;" id="keyname">
 <input type="text" name="datasize" style="display:none;" id="datasize">
 <input type="text" name="monthsend" style="display:none;" id="monthsend">
 <h3 style="font-weight:lighter;">
 	 Data Synchronization <i class="material-icons">phonelink_setup</i>
 </h3>
	 <div class="container-filter" style="float:right;">
	 <fieldset style="border:1px solid silver; padding:1.5em">
	 <legend style="font-size:18px;font-family:Roboto;font-weight:Light;">
	 		Critères de recherche
	 </legend>
         <div class="mdl-textfield mdl-js-textfield getmdl-select" style="width:100%">
             <input type="text"ng-model="yearmodel" class="mdl-textfield__input" id="yearsample" readonly>
             <input type="hidden"  value="" name="year">

             <label for="yearsample" class="mdl-textfield__label"><i class="material-icons" style="font-size:16px;">calendar_today</i> Année de collecte
             </label>
             <ul for="sample2"  class="mdl-menu mdl-menu--bottom-left mdl-js-menu" ng-model="yearmodel" style="height:150px;overflow:auto;font-weight:lighter;">
                 <li class="mdl-menu__item" data-val="2019">2019</li>
                 <li class="mdl-menu__item" data-val="2018">2018</li>

             </ul>
         </div>

  <div class="mdl-textfield mdl-js-textfield getmdl-select" style="width:100%">
        <input type="text"ng-model="monthdatasync" class="mdl-textfield__input" id="sample2" readonly>
        <input type="hidden"  value="" name="month">
        
        <label for="sample2" class="mdl-textfield__label"><i class="material-icons" style="font-size:16px;">calendar_today</i> Mois d'enquete</label>
        <ul for="sample2"  class="mdl-menu mdl-menu--bottom-left mdl-js-menu" ng-model="monthdatasync" style="height:150px;overflow:auto;font-weight:lighter;">
            <li class="mdl-menu__item" data-val="1">Janvier</li>
            <li class="mdl-menu__item" data-val="2">Fevrier</li>
            <li class="mdl-menu__item" data-val="3">Mars</li>
            <li class="mdl-menu__item" data-val="4">Avril</li>
            <li class="mdl-menu__item" data-val="5">Mai</li>
            <li class="mdl-menu__item" data-val="6">Juin</li>
            <li class="mdl-menu__item" data-val="7">Juillet</li>
            <li class="mdl-menu__item" data-val="8">Aout</li>
            <li class="mdl-menu__item" data-val="9">Septembre</li>
            <li class="mdl-menu__item" data-val="10">Octobre</li>
            <li class="mdl-menu__item" data-val="11">Novembre</li>
            <li class="mdl-menu__item" data-val="12">Decembre</li>
            
        </ul>
    </div>

 <div id="data" style="font-weight:lighter;" class="demo"></div>
<button id="btnsender" style="display:none;">SEND</button>
	 </fieldset>
	
	 </div>
	  <div style="float:left;width:100%;display:inline-block;width:70%;">
   
	  <div style="">
  <table class="display" id="Tdatafile" border="0.2" style="cursor:pointer;width:100%;float:left">
  <thead>
    <tr>
      <!-- class "mdl-data-table__cell--non-numeric", align values to left -->
      
      <th style="text-align:left">Weeks</th>
      <th style="text-align:left">Mois</th>
      <th style="text-align:left">Annee</th>
      <th style="text-align:left">Agefloc</th>
      <th style="text-align:left">Chaux</th>
      <th style="text-align:left">Chlore</th>
      <th style="text-align:left">Gasoil</th>
      <th style="text-align:left">KWH</th>
      <th style="text-align:left">Sel</th>
      <th style="text-align:left">Sulfate</th>
      <th style="text-align:left">Usine</th>
      
    </tr>
  </thead>
  <tbody>
      
  </tbody>
</table>


</div>
	 </div>
	</form>
 </div>


 
      
     <div class="mdl-button-group" id="view-source">
  		<button id="btnRunProc" ng-click="getRunProcess()" disabled class="mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--colored mdl-color-text--white mdl-color--teal-700">
      	<i class="material-icons">swap_vert</i>
      </button>
      <br/>
      <button  ng-click="sendDataSync()" disabled id="btnSendData" class="mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--colored mdl-color-text--white mdl-color--teal-700">
      	<i class="material-icons">send</i>
      </button>
</div>
<script th:inline="javascript">
  /*<![CDATA[*/
  
  var orgunitLogName = [[${orgunitkey}]];
      console.log(orgunitLogName)
  
  /*]]>*/
  </script>
      
    <script src="/js/material.js"></script>
     <script src="/js/jquery.js"></script>
      <script src="/js/datatables.js"></script>
      <script src="/js/angular.min.js"></script>
      <script src="/js/angular-route.min.js"></script>      
      
      <script src="/js/dataSyncController.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/getmdl-select@2.0.1/getmdl-select.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/getmdl-select@2.0.1/getmdl-select.min.js.map"></script>
      <script src="/js/moment.min.js"></script>
  <!--load locales i.e. german(deutsch), french, etc.-->
  <script src="/js/lang/de.js"></script>
  <script src="/js/lang/fr.js"></script>
  <script src="/js/lang/af.js"></script>
  <script src="/js/lang/zh-cn.js"></script>
  <script src="/js/scroll-into-view-if-needed.min.js"></script>
  <script src="/js/draggabilly.pkgd.min.js"></script>
  <script src="/js/mdDateTimePicker.js"></script>
  <script src="/js/jstree.min.js"></script>
  <script type="text/javascript">
  (function() {
    // load language from hash
    var hash = location.hash.replace('#', '');
    var locale = hash ? hash : 'en';
    moment.locale(locale);
    // rest of the demo logic
    var x = new mdDateTimePicker.default({
      type: 'date'
    });
    var y = new mdDateTimePicker.default({
      type: 'date',
      init: moment('2016-02-29', 'YYYY-MM-DD')
    });
    var z = new mdDateTimePicker.default({
      type: 'date',
      init: moment('2016-03-3', 'YYYY-MM-DD'),
      orientation: 'PORTRAIT'
    });
    document.getElementById('datefilter').addEventListener('click', function() {
        x.toggle();
      });
    
  
    // dispatch event test
    x.trigger = document.getElementById('datefilter');
    document.getElementById('datefilter').addEventListener('onOk', function() {
    
      this.value =x.time.toString();
      //dateCurrent.getDate()+'-'+dateCurrent.getMonth()+'-'+dateCurrent.getFullYear() ;
    });
  
    // language selector

  }).call(this);
  
  </script>
  </body>
</html>